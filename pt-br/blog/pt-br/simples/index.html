<!DOCTYPE html>
<html lang="pt-br"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matenha sua funcionalidade simples</title>
    <meta charset="utf-8">
    <meta name="description" content="Ladder@Introdu√ß√£o Existe a tend√™ncia natural a buscar definir padr√µes que venham a facilitar o desenvolvimento de novas funcionalidades, de modo a manter uma certa consist√™ncia entre as mais variadas funcionalidades de uma aplica√ß√£o.
Tais padr√µes tendem podem ser √∫teis por exemplo ao adicionar um novo membro a equipe, que poder√° ter sua vida facilitada para conseguir contribuir com um projeto j√° que toda funcionalidade possui mais ou menos a mesma forma.">
    <meta name="author" content="Jos√© Caique">
    <link rel="canonical" href="https://josecaique.com/pt-br/blog/pt-br/simples/">

    <link rel="alternate" type="application/rss+xml" href="https://josecaique.com//index.xml" title="">

    


    <meta property="og:title" content="Matenha sua funcionalidade simples" />
<meta property="og:description" content="Introdu√ß√£o Existe a tend√™ncia natural a buscar definir padr√µes que venham a facilitar o desenvolvimento de novas funcionalidades, de modo a manter uma certa consist√™ncia entre as mais variadas funcionalidades de uma aplica√ß√£o.
Tais padr√µes tendem podem ser √∫teis por exemplo ao adicionar um novo membro a equipe, que poder√° ter sua vida facilitada para conseguir contribuir com um projeto j√° que toda funcionalidade possui mais ou menos a mesma forma." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://josecaique.com/pt-br/blog/pt-br/simples/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2023-04-04T14:23:18+01:00" />
<meta property="article:modified_time" content="2023-04-04T14:23:18+01:00" />


<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Matenha sua funcionalidade simples"/>
<meta name="twitter:description" content="Introdu√ß√£o Existe a tend√™ncia natural a buscar definir padr√µes que venham a facilitar o desenvolvimento de novas funcionalidades, de modo a manter uma certa consist√™ncia entre as mais variadas funcionalidades de uma aplica√ß√£o.
Tais padr√µes tendem podem ser √∫teis por exemplo ao adicionar um novo membro a equipe, que poder√° ter sua vida facilitada para conseguir contribuir com um projeto j√° que toda funcionalidade possui mais ou menos a mesma forma."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blogs",
      "item": "https://josecaique.com/pt-br/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Matenha sua funcionalidade simples",
      "item": "https://josecaique.com/pt-br/blog/pt-br/simples/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Matenha sua funcionalidade simples",
  "name": "Matenha sua funcionalidade simples",
  "description": "Introdu√ß√£o Existe a tend√™ncia natural a buscar definir padr√µes que venham a facilitar o desenvolvimento de novas funcionalidades, de modo a manter uma certa consist√™ncia entre as mais variadas funcionalidades de uma aplica√ß√£o.\nTais padr√µes tendem podem ser √∫teis por exemplo ao adicionar um novo membro a equipe, que poder√° ter sua vida facilitada para conseguir contribuir com um projeto j√° que toda funcionalidade possui mais ou menos a mesma forma.",
  "keywords": [
    
  ],
  "articleBody": "Introdu√ß√£o Existe a tend√™ncia natural a buscar definir padr√µes que venham a facilitar o desenvolvimento de novas funcionalidades, de modo a manter uma certa consist√™ncia entre as mais variadas funcionalidades de uma aplica√ß√£o.\nTais padr√µes tendem podem ser √∫teis por exemplo ao adicionar um novo membro a equipe, que poder√° ter sua vida facilitada para conseguir contribuir com um projeto j√° que toda funcionalidade possui mais ou menos a mesma forma.\nEntretanto, √© importante sempre pensar sobre a utilidade que um trecho de c√≥digo adiciona ao projeto. Defender por exemplo que um certo peda√ßo de c√≥digo existe apenas para manter um padr√£o entre todas as funcionalidades √© furada.\nAo definir o comportamento entre fronteiras abre-se espa√ßo para a gera√ß√£o complexidade. √â muito comum que seja feito um abuso de interfaces com apenas uma implementa√ß√£o, ou uma busca, desnecess√°ria, por criar abstra√ß√µes sobre abstra√ß√µes, com o objetivo de isolar e proteger o c√≥digo contra poss√≠veis mudan√ßas no futuro. √â comum ouvir, ‚Äúesse mapeamento √© para que o framework de serializa√ß√£o n√£o passe por camadas de dados at√© a apresenta√ß√£o‚Äù e dessa forma tenta evitar uma d√©bito que talvez n√£o venha sequer a existir no futuro.\nVale lembrar que funcionalidades passam por mudan√ßas, adicionam novos comportamentos e inevitavelmente v√£o quebram padr√µes adicionados precocemente, com isso, o padr√£o que deveria ajudar no futuro, gera um stress no presente por tornar qualquer altera√ß√£o muito lenta ou complexa de ser feita.\nVamos a um exemplo Supona a seguinte estrutura b√°sica para exibir uma lista para um usu√°rio.\n// module/subproject -- feature-list-characters --- domain --- data --- presentation O c√≥digo dentro desse m√≥dulo ou subprojeto resolve um problema bem espec√≠fico e h√° uma proximidade entre as tr√™s camadas apresentadas, j√° que partes do sistema que s√£o alteradas em conjunto devem estar pr√≥ximas. As camadas data, domain e presentation fazem parte da mesma fronteira, de modo que a comunica√ß√£o entre tais camadas deve ser realizada de forma simples.\nA seguir um exemplo de abstra√ß√£o a ser repensada se gera algum valor.\ninternal interface RickAndMortyService { suspend fun listCharacters(): List } internal class RickAndMortyInfraStructure @Inject constructor( private val gateway: RickAndMortyGateway ) : RickAndMortyService { override suspend fun listCharacters(): List = gateway.getCharacters().results } internal class RickAndMortyViewModel @Inject constructor( private val service: RickAndMortyService ) : ViewModel() { ... } Deletar a interface acima n√£o vai gerar nenhuma diferen√ßa? N√£o.\nEssa interface faz parte apenas de uma √∫nica funcionalidade e n√£o ser√° utilizada em nenhuma outra parte do projeto Nunca haver√° uma segunda implementa√ß√£o dessa interface Criar uma abstra√ß√£o na mesma fronteira, para um c√≥digo que sempre ser√° alterado em conjunto n√£o traz muito valor. Vale pensar e associar que, sempre que √© alterado o RickAndMortyViewModel a interface RickAndMortyService tende a sofrer altera√ß√µes sempre que os dados providos mudarem ou se novos comportamentos forem adicionados, por exemplo, deletar um personagem a interface for√ßadamente seria alterada.\nVale pensar ent√£o no benef√≠cio que tal interface prov√™, no fim n√£o h√° motivos para ser complexo, uma vez que essas partes da mesma funcionalidade possuem um acoplamento natural (ao se alterar o RickAndMortyViewModel tende-se a alterar a RickAndMortyInfraStructure tamb√©m) e tudo bem.\nDefender o uso da interface como um facilitador para cria√ß√£o de teste n√£o faz tanto sentido, uma vez que ao RickAndMortyGateway pode ser substitu√≠da por um fake e os testes v√£o terminar exercitando mais partes do c√≥digo ao se evitar o mock da classe RickAndMortyInfraStructure.\nMock vs Fake pode ser um assunto para outro momento. Voc√™ pode olhar aqui sobre o assunto.\nPara simplificar desenvolvimento, ao inv√©s de buscar por padr√µes j√° definidos, √© interessante pensar no potencial uso dessa funcionalidade. Se o que est√° prestes a ser desenvolvido √© algo que ser√° isolado de todo o sistema, h√° um espa√ßo para ser objetivo e simples.\nPor exemplo, qual o ganho em fazer mapeamento de um Data transfer object para uma data class sem anota√ß√µes que no fim ser√° uma listagem simples na tela do usu√°rio? Nenhum. O que se ganha com tal mapeamento √© a falta de produtividade em prol de uma padroniza√ß√£o que n√£o leva a nada j√° que se trata de uma parte do sistema naturalmente isolada.\nAo simplificar temos espa√ßo para remover o que for desnecess√°rio. Pode-se considerar uma dele√ß√£o de c√≥digo em casos como:\nChecar interfaces com uma √∫nica implementa√ß√£o (pode ser um indicativo para remo√ß√£o) Remover mapeamentos que servem simplesmente para remover anota√ß√µes de serializa√ß√£o de classes. Um mapeamento quando se √© √∫til tende a possuir valida√ß√µes que diminuem cen√°rios de erros em que a aplica√ß√£o poder√° passar. O tal do usecase\nQuando ser complexo Quando uma funcionalidade toca diversas partes de um sistema, criar boas abstra√ß√µes visa proteger a aplica√ß√£o contra estados de erro n√£o mapeados. Tais funcionalidades costumam fazer parte do n√∫cleo do sistema e devem abusar da quantidade de valida√ß√µes e regras dado o impacto que podem causar em todo software.\nUm exemplo bem simples √© a representa√ß√£o de documento do usu√°rio feito atrav√©s de um tipo primitivo como long.\nval document: Long N√£o h√° nenhuma valida√ß√£o do documento que venha a ser passado, nenhuma regra pode ser aplicada para proteger as partes do sistema que venham a fazer uso dessa informa√ß√£o.\ndata class Document(private val value : Long) { init { if(isValid().not()) throw ExceptionInInitializerError(\"invalid document\") } private fun isValid() = value.toString().length == 9 fun get() = value } Com a valida√ß√£o acima √© garantido que todo o sistema sempre usar√° um documento v√°lido, caso contr√°rio o sistema n√£o √© inicializado.\nComplexidade aqui significa defini√ß√µes bem feitas em prol de regras claras sobre o funcionamento de uma funcionalidade utilizada em partes diversas da aplica√ß√£o.\nUm outro bom exemplo √© a sess√£o de um usu√°rio, de modo geral com a evolu√ß√£o de um produto novas condi√ß√µes s√£o adicionadas para validar se um usu√°rio √© v√°lido, ou se a autenti√ß√£o ainda √© v√°lida. Por√©m de modo geral a interface n√£o sofre muita altera√ß√£o\ninterface Session { fun getUser(): User fun login(params: UserCredentials) fun logout() } Independente do detalhe da implementa√ß√£o h√° pouco espa√ßo para breaking changes e todas as funcionalidades que dependam da sess√£o dificilmente ser√£o impactadas pelas mudan√ßas internas de tal classe.\nPara definir uma boa fronteira deve-se entender o impacto a ser gerado pelo c√≥digo e o qu√£o isolada aquela funcionalidade vai ser. Quando se h√° muita intera√ß√£o entre funcionalidades diferentes, vale definir de forma clara e com boas valida√ß√µes como funciona um contrato. Foque em ser coeso.\nPadr√µes n√£o √∫teis surgem como uma boa inten√ß√£o, quem cria costuma pensar em simplificar o dia a dia. Isso √© bem comum quando em aplica√ß√µes em seu come√ßo, por pensar que com todos os c√≥digos seguindo a mesma estrutura isso tornar√° mais simples para ajudar por exemplo a entender o c√≥digo do colega de trabalho ao lado.\nTal prerrogativa tem um problema, quando os sistemas crescem a realidade √© que a equipe vai trabalhar isoladamente em seu peda√ßo de software. Essa parte da equipe entender√° de um complexo n√∫mero de regras de neg√≥cio daquela funcionalidade, isso torna humanamente imposs√≠vel que o mesmo desenvolvedor consiga, via de regra, contribuir com outras funcionalidades simplesmente porque a forma como o c√≥digo est√° escrito √© parecido em toda a aplica√ß√£o.\nEnt√£o apesar de a inten√ß√£o ser boa, quando em grande escala tais defini√ß√µes podem virar apenas dor de cabe√ßa, gerar lentid√£o no desenvolvimento e causar problemas na adapta√ß√£o de desenvolvedores a um estilo de c√≥digo diferente uma vez que n√£o h√° um ganho claro ao se seguir certos padr√µes.\nEnt√£o evite prever tanto o futuro, mantenha seu c√≥digo simples sempre que poss√≠vel.\n",
  "wordCount" : "1252",
  "inLanguage": "pt-br",
  "datePublished": "2023-04-04T14:23:18+01:00",
  "dateModified": "2023-04-04T14:23:18+01:00",
  "author":{
    "@type": "Person",
    "name": "Jos√© Caique"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://josecaique.com/pt-br/blog/pt-br/simples/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "",
    "logo": {
      "@type": "ImageObject",
      "url": "https://josecaique.com/favicon.ico"
    }
  }
}
</script>
    <link rel="icon" href="/favicon.png" sizes="16x16">

<link rel="apple-touch-icon" href="/favicon.png">

<link rel="manifest" href="/favicon.png">
    

    <link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css" />

    
    
    
    <link rel="stylesheet" href="/css/main.min.123fb80933bf658de03ede4889cdfdbab1ed9d14089a8bc56573f04b4e6e347c.css" integrity="sha256-Ej&#43;4CTO/ZY3gPt5Iic39urHtnRQImovFZXPwS05uNHw=" crossorigin="anonymous" media="screen" />
    


    
    <link rel="stylesheet" href="/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css" />

    
    <script src="/js/highlight.min.min.894ca9c68afab956438c4926a0dc7f5293e04e08595bd27abdb123e94801f684.js"></script>
    <script>hljs.highlightAll();</script>

    <script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script>
    </head>
<body>
      <main class="wrapper"><nav class="navigation">
    <section class="container">
        <a class="navigation-brand" href="/pt-br">
            In√≠cio
        </a>
        <input type="checkbox" id="menu-toggle" />
        <label class="menu-button float-right" for="menu-toggle">
            <span></span><span></span><span></span>
        </label>
        
        <ul class="navigation-list" id="navigation-list">
            
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="/pt-br/blog">Postagens</a>
            </li>
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="/pt-br/video">V√≠deos</a>
            </li>
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="/pt-br/about">Sobre</a>
            </li>
            
            

            <li class="navigation-item menu-separator">
                <span>|</span>
            </li>

            
            
            <li class="navigation-item navigation-social">
                <a class="navigation-link" href="https://github.com/jcaiqueoliveira"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a>
            </li>
            
            <li class="navigation-item navigation-social">
                <a class="navigation-link" href="mailto:jcaique.jc@gmail.com"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a>
            </li>
            
            <li class="navigation-item navigation-social">
                <a class="navigation-link" href="https://www.linkedin.com/in/kandadev/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a>
            </li>
            
            

            <li class="navigation-item navigation-dark">
                <button id="mode" type="button" aria-label="toggle user light or dark theme">
                    <span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
                    <span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
                </button>
            </li>

            
            
            
            
            
            <li class="navigation-item navigation-language">
                <a href="https://josecaique.com/">üá¨üáß</a>
            </li>
            
            
            
            
            
            
        </ul>
        
    </section>
</nav>
<div id="content">
<article class="blog-single">
  <header class="blog-title">
    <h1>Matenha sua funcionalidade simples</h1>
  </header>

  <p>
  <small>
    4 de abril de 2023&nbsp;¬∑ 1252 palavras&nbsp;¬∑ 6 minutos</small>

  
<p>

  <div class="blog-toc">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#introdu√ß√£o">Introdu√ß√£o</a>
      <ul>
        <li><a href="#vamos-a-um-exemplo">Vamos a um exemplo</a></li>
      </ul>
    </li>
    <li><a href="#quando-ser-complexo">Quando ser complexo</a></li>
  </ul>
</nav>
  </div>

  <section class="blog-content"><h2 id="introdu√ß√£o">Introdu√ß√£o</h2>
<p>Existe a tend√™ncia natural a buscar definir padr√µes que venham a facilitar o desenvolvimento de novas funcionalidades, de modo a manter uma certa consist√™ncia entre as mais variadas funcionalidades de uma aplica√ß√£o.</p>
<p>Tais padr√µes tendem podem ser √∫teis por exemplo ao adicionar um novo membro a equipe, que poder√° ter sua vida facilitada para conseguir contribuir com um projeto j√° que toda funcionalidade possui mais ou menos a mesma forma.</p>
<p>Entretanto, √© importante sempre pensar sobre a utilidade que um trecho de c√≥digo adiciona ao projeto. Defender por exemplo que um certo peda√ßo de c√≥digo existe apenas para manter um padr√£o entre todas as funcionalidades √© furada.</p>
<p>Ao definir o comportamento entre fronteiras abre-se espa√ßo para a gera√ß√£o complexidade. √â muito comum que seja feito um abuso de interfaces com apenas uma implementa√ß√£o, ou uma busca, desnecess√°ria, por criar abstra√ß√µes sobre abstra√ß√µes, com o objetivo de isolar e proteger o c√≥digo contra poss√≠veis mudan√ßas no futuro. √â comum ouvir, ‚Äúesse mapeamento √© para que o framework de serializa√ß√£o n√£o passe por camadas de dados at√© a apresenta√ß√£o‚Äù e dessa forma tenta evitar uma d√©bito que talvez n√£o venha sequer a existir no futuro.</p>
<p>Vale lembrar que funcionalidades passam por mudan√ßas, adicionam novos comportamentos e inevitavelmente v√£o quebram padr√µes adicionados precocemente, com isso, o padr√£o que deveria ajudar no futuro, gera um stress no presente por tornar qualquer altera√ß√£o muito lenta ou complexa de ser feita.</p>
<h3 id="vamos-a-um-exemplo">Vamos a um exemplo</h3>
<p>Supona a seguinte estrutura b√°sica para exibir uma lista para um usu√°rio.</p>
<pre tabindex="0"><code>// module/subproject
-- feature-list-characters
--- domain
--- data
--- presentation
</code></pre><p>O c√≥digo dentro desse m√≥dulo ou subprojeto resolve um problema bem espec√≠fico e h√° uma proximidade entre as tr√™s camadas apresentadas, j√° que partes do sistema que s√£o alteradas em conjunto devem estar pr√≥ximas.
As camadas data, domain e presentation fazem parte da mesma fronteira, de modo que a comunica√ß√£o entre tais camadas deve ser realizada de forma simples.</p>
<p>A seguir um exemplo de abstra√ß√£o a ser repensada se gera algum valor.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">RickAndMortyService</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">listCharacters</span>(): List&lt;Character&gt;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RickAndMortyInfraStructure</span> <span style="color:#a6e22e">@Inject</span> <span style="color:#66d9ef">constructor</span>(
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> gateway: RickAndMortyGateway
</span></span><span style="display:flex;"><span>) : RickAndMortyService {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">listCharacters</span>(): List&lt;Character&gt; = gateway.getCharacters().results
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RickAndMortyViewModel</span> <span style="color:#a6e22e">@Inject</span> <span style="color:#66d9ef">constructor</span>(
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> service: RickAndMortyService
</span></span><span style="display:flex;"><span>) : ViewModel() {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">..</span>.
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Deletar</strong> a interface acima n√£o vai gerar nenhuma diferen√ßa? N√£o.</p>
<ul>
<li>Essa interface faz parte apenas de uma √∫nica funcionalidade e n√£o ser√° utilizada em nenhuma outra parte do projeto</li>
<li>Nunca haver√° uma segunda implementa√ß√£o dessa interface</li>
</ul>
<p>Criar uma abstra√ß√£o na mesma fronteira, para um c√≥digo que sempre ser√° alterado em conjunto n√£o traz muito valor. Vale pensar e associar que, sempre que √© alterado o <em>RickAndMortyViewModel</em> a interface <em>RickAndMortyService</em> tende a sofrer altera√ß√µes sempre que os dados providos mudarem ou se novos comportamentos forem adicionados, por exemplo, deletar um personagem a interface for√ßadamente seria alterada.</p>
<p>Vale pensar ent√£o no benef√≠cio que tal interface prov√™, no fim n√£o h√° motivos para ser complexo, uma vez que essas partes da mesma funcionalidade possuem um acoplamento natural (ao se alterar o <em>RickAndMortyViewModel</em> tende-se a alterar a RickAndMortyInfraStructure tamb√©m) e tudo bem.</p>
<p>Defender o uso da interface como um facilitador para cria√ß√£o de teste n√£o faz tanto sentido, uma vez que ao <em>RickAndMortyGateway</em> pode ser substitu√≠da por um fake e os testes v√£o terminar exercitando mais partes do c√≥digo ao se evitar o mock da classe <em>RickAndMortyInfraStructure</em>.</p>
<p>Mock vs Fake pode ser um assunto para outro momento. Voc√™ pode olhar aqui sobre o assunto.</p>
<p>Para simplificar desenvolvimento, ao inv√©s de buscar por padr√µes j√° definidos, √© interessante pensar no potencial uso dessa funcionalidade. Se o que est√° prestes a ser desenvolvido √© algo que ser√° isolado de todo o sistema, h√° um espa√ßo para ser objetivo e simples.</p>
<p>Por exemplo, qual o ganho em fazer mapeamento de um Data transfer object para uma data class sem anota√ß√µes que no fim ser√° uma listagem simples na tela do usu√°rio? Nenhum. O que se ganha com tal mapeamento √© a falta de produtividade em prol de uma padroniza√ß√£o que n√£o leva a nada j√° que se trata de uma parte do sistema naturalmente isolada.</p>
<p>Ao simplificar temos espa√ßo para remover o que for desnecess√°rio. Pode-se considerar uma dele√ß√£o de c√≥digo em casos como:</p>
<p>Checar interfaces com uma √∫nica implementa√ß√£o (pode ser um indicativo para remo√ß√£o)
Remover mapeamentos que servem simplesmente para remover anota√ß√µes de serializa√ß√£o de classes. Um mapeamento quando se √© √∫til tende a possuir valida√ß√µes que diminuem cen√°rios de erros em que a aplica√ß√£o poder√° passar.
O tal do <em>usecase</em></p>
<h2 id="quando-ser-complexo">Quando ser complexo</h2>
<p>Quando uma funcionalidade toca diversas partes de um sistema, criar boas abstra√ß√µes visa proteger a aplica√ß√£o contra estados de erro n√£o mapeados. Tais funcionalidades costumam fazer parte do n√∫cleo do sistema e devem abusar da quantidade de valida√ß√µes e regras dado o impacto que podem causar em todo software.</p>
<p>Um exemplo bem simples √© a representa√ß√£o de documento do usu√°rio feito atrav√©s de um tipo primitivo como long.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> document: Long
</span></span></code></pre></div><p>N√£o h√° nenhuma valida√ß√£o do documento que venha a ser passado, nenhuma regra pode ser aplicada para proteger as partes do sistema que venham a fazer uso dessa informa√ß√£o.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">data</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Document</span>(<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> value : Long) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">init</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(isValid().not()) <span style="color:#66d9ef">throw</span> ExceptionInInitializerError(<span style="color:#e6db74">&#34;invalid document&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">isValid</span>() = <span style="color:#66d9ef">value</span>.toString().length <span style="color:#f92672">==</span> <span style="color:#ae81ff">9</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">get</span>() = <span style="color:#66d9ef">value</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Com a valida√ß√£o acima √© garantido que todo o sistema sempre usar√° um documento v√°lido, caso contr√°rio o sistema n√£o √© inicializado.</p>
<p>Complexidade aqui significa defini√ß√µes bem feitas em prol de regras claras sobre o funcionamento de uma funcionalidade utilizada em partes diversas da aplica√ß√£o.</p>
<p>Um outro bom exemplo √© a sess√£o de um usu√°rio, de modo geral com a evolu√ß√£o de um produto novas condi√ß√µes s√£o adicionadas para validar se um usu√°rio √© v√°lido, ou se a autenti√ß√£o ainda √© v√°lida. Por√©m de modo geral a interface n√£o sofre muita altera√ß√£o</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Session</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">getUser</span>(): User
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">login</span>(params: UserCredentials)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">logout</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Independente do detalhe da implementa√ß√£o h√° pouco espa√ßo para breaking changes e todas as
funcionalidades que dependam da sess√£o dificilmente ser√£o impactadas pelas mudan√ßas internas de tal classe.</p>
<p><strong>Para definir uma boa fronteira</strong> deve-se entender o impacto a ser gerado pelo c√≥digo e o qu√£o isolada aquela funcionalidade vai ser. Quando se h√° muita intera√ß√£o entre funcionalidades diferentes, vale definir de forma clara e com boas valida√ß√µes como funciona um contrato. Foque em ser coeso.</p>
<p><strong>Padr√µes n√£o √∫teis surgem</strong> como uma boa inten√ß√£o, quem cria costuma pensar em simplificar o dia a dia. Isso √© bem comum quando em aplica√ß√µes em seu come√ßo, por pensar que com todos os c√≥digos seguindo a mesma estrutura isso tornar√° mais simples para ajudar por exemplo a entender o c√≥digo do colega de trabalho ao lado.</p>
<p>Tal prerrogativa tem um problema, quando os sistemas crescem a realidade √© que a equipe vai trabalhar isoladamente em seu peda√ßo de software. Essa parte da equipe entender√° de um complexo n√∫mero de regras de neg√≥cio daquela funcionalidade, isso torna humanamente imposs√≠vel que o mesmo desenvolvedor consiga, via de regra, contribuir com outras funcionalidades simplesmente porque a forma como o c√≥digo est√° escrito √© parecido em toda a aplica√ß√£o.</p>
<p>Ent√£o apesar de a inten√ß√£o ser boa, quando em grande escala tais defini√ß√µes podem virar apenas dor de cabe√ßa, gerar lentid√£o no desenvolvimento e causar problemas na adapta√ß√£o de desenvolvedores a um estilo de c√≥digo diferente uma vez que n√£o h√° um ganho claro ao se seguir certos padr√µes.</p>
<p>Ent√£o evite prever tanto o futuro, mantenha seu c√≥digo simples sempre que poss√≠vel.</p>
</section>

  
  

  


  
  
</article>


        </div><footer class="footer">
  <p>&copy; 2023 <a href="https://josecaique.com/"></a>
    Powered by
    <a href="https://gohugo.io/" rel="noopener" target="_blank">HugoÔ∏èÔ∏è</a>
    <a href="https://github.com/guangzhengli/hugo-theme-ladder" rel="noopener" target="_blank">Ladder</a>
Ô∏è  </p>
</footer>

<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211C22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257M21.7387 7.71865C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257C17.1684 -1.24629 7.83127 0.632493 4.27577 5.04257C2.88063 6.77451 -0.0433281 11.1668 1.38159 16.6571C2.27481 20.0988 5.17269 22.2936 8.19743 22.7725M20.7188 5.04257C22.0697 6.9404 24.0299 11.3848 22.3541 15.4153M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814C11.1703 6.98257 11.0247 6.98456 10.9937 7.05061C10.5221 8.05496 9.07362 9.92941 8 10.945M11.0333 7.44444C10.9392 9.86549 11 15 12 17" stroke="currentColor" stroke-linecap="round"/>
    </svg>
</a>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>

<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'Copy';

        function copyingDone() {
            copybutton.innerHTML = 'Copied';
            setTimeout(() => {
                copybutton.innerHTML = 'Copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });
        codeblock.parentNode.appendChild(copybutton);
    });
</script></main>
    </body>
  
  <script src="/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js" integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin="anonymous" defer></script></html>
